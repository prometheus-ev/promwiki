version=pmwiki-2.2.0-beta65 ordered=1 urlencoded=1
agent=Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.1.12) Gecko/20080129 Iceweasel/2.0.0.12 (Debian-2.0.0.12-0etch1)
author=Bartolin
charset=ISO-8859-1
csum=updated translation
host=77.185.143.159
name=PmWikiDe.Security
rev=6
targets=PmWikiDe.Passwords,PmWikiDe.PasswordsAdmin,PmWikiDe.UrlApprovals,PmWikiDe.SiteAnalyzer,PmWikiDe.Blocklist,PmWikiDe.Notify,PmWikiDe.SecurityVariables,PmWikiDe.DocumentationIndex,PmWiki.Blocklist,PmWiki.UrlApprovals,PmWiki.Passwords,PmWiki.DeletingPages,PmWikiDe.Availableactions,Site.AuthForm,PmWiki.AvailableActions,Profiles.HomePage,PmWiki.Drafts
text=(:title Sicherheit:)%0a(:Summary: Zeigt relevante Verweise zur Sicherheit:)%0a(:Original_Page: PmWiki.Security:)%0a(:Translation_Date: 2008-03-18:)%0a(:Translation_Status: %25red%25FAQ übersetzen%25%25:)%0a(:Audience: Autoren (Fortgeschritten) und Administratoren:)%0a%0aEinzelne Aspekte zur Sicherheit von PmWiki sind auf den folgenden Seiten zu finden:%0a%0aDokumentationsseiten:%0a* [[Passwords | +]]         - {Passwords$:Summary}%0a* [[PasswordsAdmin | +]]    - {PasswordsAdmin$:Summary}%0a* [[UrlApprovals | +]]      - {UrlApprovals$:Summary}%0a* [[Site Analyzer | +]]     - {SiteAnalyzer$:Summary}%0a* [[Blocklist | +]]         - {Blocklist$:Summary}%0a* [[Notify | +]]            - {Notify$:Summary}%0a* [[SecurityVariables | +]] - {SecurityVariables$:Summary}%0a%0a[[Cookbook(:/) | Kochbuch]]-Seiten (nur auf Englisch verfügbar):%0a* [[Cookbook:Cookbook#Security | Cookbook-Index: Sicherheit]]%0a* [[Cookbook:WebServerSecurity]] Schutz des Servers durch .htaccess%0a* [[Cookbook:FarmSecurity]] Schutz von Farminstallationen%0a* [[Cookbook:EProtect]] Schutz von E-Mail-Adressen%0a* [[Cookbook:Protect email]] Verschleiern von E-Mail-Adressen%0a* [[Cookbook:AuditImages]] Kontrolle der ins Wiki hochgeladenen (Bild-)Dateien%0a* [[Cookbook:Private groups]] Erzeugen und Absichern privater Gruppen in einem öffentlichen Wiki%0a* [[Cookbook:Only one login]] Zu jedem Zeitpunkt nur ein Einloggen für einen Benutzernamen zulassen%0a* [[Cookbook:Session guard]] Schutz vor Session-Diebstahl%0a%0a%25trail%25 %3c%3c|[[DocumentationIndex | +]]|>>%0a%0a>>faq%3c%3c [[#faq]]%0a%0aQ: What about the botnet security advisory at %25newwin%25[[http://isc.sans.org/diary.php?storyid=1672]]?%0a%0aA: Sites that are running with PHP's ''register_globals'' setting set to "On" and versions of PmWiki prior to 2.1.21 may be vulnerable to a botnet exploit that is taking advantage of a bug in PHP.  The vulnerability can be closed by turning ''register_globals'' off, upgrading to PmWiki 2.1.21 or later, or upgrading to PHP versions 4.4.3 or 5.1.4.  [[%3c%3c]]In addition, there is a test at [[PmWiki:SiteAnalyzer]] that can be used to determine if your site is vulnerable.%0a%0a[[#wikivandalism]]%0a!! Wiki Vandalism%0a:Assumptions: you are using a [[PmWiki/Blocklist]] and [[PmWiki/Url approvals]].%0a: :You don't want to resort to [[PmWiki/password(s)]] protecting the entire wiki, that's not the point after all.%0a: :Ideally these protections will be invoked in @@config.php@@%0a%0aQ: how do I stop pages being [[PmWiki/DeletingPages|deleted]], eg password protect a page from deletion?%0aA: use Cookbook:DeleteAction and password protect the page deletion [[(available)action(s)]] by adding [@$DefaultPasswords['delete'] = '*';@] to @@config.php@@ or password protect the action with @@$HandleAuth['delete'] = 'edit';@@%0a->or @@$HandleAuth['delete'] = 'admin';@@ to require the edit or admin password respectively.%0a%0aQ: how do I stop pages being replaced with an empty (all spaces) page?%0aA: Add [@block: /^\s*$/@] to your [[PmWiki/blocklist]].%0a%0aQ: how do I stop pages being completely replaced by an inane comment such as ''excellent site'', ''great information'', where the content cannot be blocked?%0aA: Try using the newer [[PmWiki/Blocklist#automaticblocklists | automatic blocklists]] that pool information and IP addresses about known wiki defacers.%0aA: or%0aA: Try using [[Cookbook:Captchas]] {Cookbook/Captchas$:Summary} or [[Cookbook:Captcha]] {Cookbook/Captcha$:Summary}, (note these are different}%0aA: or%0aA: Set an edit password, but make it publicly available on the [[{$SiteGroup}.AuthForm]] template.%0a%0aQ: how do I password protect all common pages in all groups such as recent changes, search, group header, group footer, and so on?%0aA: insert the following lines into your local/config.php file. Editing these pages then requires the admin password.%0a%0a[@%0a## Require admin password to edit RecentChanges (etc.) pages.%0aif ($action=='edit'%0a    && preg_match('/\\.(Search|Group(Header|Footer)|(All)?RecentChanges)$/', $pagename))%0a  { $DefaultPasswords['edit'] = crypt('secret&nbsp;phrase'); }%0a@]%0a%0aNote that all GroupAttributes pages are protected by the attr password.%0a%0a'''Alternative:'''%0aI think because of my clean URLs setup I had to shorten the regular expression a little to make it work. furthermore I set the edit password for these pages to the admin password set in @@$DefaultPasswords['admin'] = crypt('secret phrase');@@ in local/config.php file:%0a%0a[@%0a## Require admin password to edit RecentChanges (etc.) pages.%0aif ($action=='edit' %0a    && preg_match('(Search|Group(Header|Footer)|(All)?RecentChanges)', $pagename))%0a  { $HandleAuth['edit'] = 'admin'; }%0a@]%0a%0aAs far as I could see in my tests this seems to work for me as expected.  --Rico, 2007-02-02%0a%0aQ: how do I password protect the creation of new groups?%0aA: see [[Cookbook:Limit Wiki Groups]] {Cookbook.LimitWikiGroups$:Summary}%0a%0aQ: how do I password protect the creation of new pages?%0aA: see [[Cookbook:Limit new pages in Wiki Groups]] {Cookbook.LimitNewPagesInWikiGroups$:Summary}%0a%0aQ: how do I take a whitelist approach where users from known or trusted IP addresses can edit, and others require a password?%0aA: Put these lines to local/config.php:%0a[@%0a## Allow passwordless editing from own turf, pass for others.%0aif ($action=='edit'%0a && !preg_match("^90.68.", $_SERVER['REMOTE_ADDR']) )    %0a { $DefaultPasswords['edit'] = crypt('foobar'); }%0a@]%0aReplace 90.68. with the preferred network prefix and foobar with the default password for others.%0a%0aQ: how do I, in @@config.php@@, add, or remove, an edit password for a group (or single page)?%0aA: ?%0a%0aQ: how do I password protect [[PmWiki/AvailableActions|page actions]]?%0aA: see [[PmWiki/Passwords]] for setting in config.php  %0a-> @@$DefaultPasswords['[==]''pageactionname''[==]'] = crypt('secret&nbsp;phrase');@@%0aA: or %0a-> @@$HandleAuth['[==]''pageactionname''[==]'] = 'anotherpageactionname';@@%0a%0aQ: How do I only allow authors to post if they have a [[Profile(s/)]]?%0aA: Add this to your ''local/config.php'' below @@include_once("$FarmD/scripts/author.php");@@ line:%0a%0a->@@if(!PageExists('Profiles.'.$Author)&&$action=='edit')@@%0a->@@ $HandleAuth['edit'] = 'admin'; @@%0a%0aThis is a possible solution, but be warned: author can't edit their wiki page in [[Profiles]] group too.%0aAdd @@if($group!='Profiles')@@ above ;-)%0a%0aQ: How to make a rule that allows only authors to edit their own wiki page in [[Profiles]] group?%0aA: Add this to your ''local/config.php''%0a%0a->@@$name = PageVar($pagename, '$Name');@@%0a->@@if($group=='Profiles') $DefaultPasswords['edit'] = 'id:'.$name;@@%0a%0aQ: how do I moderate all postings?%0aA: Enable [[PmWiki.Drafts]]%0a* Set $EnableDrafts, this relabels the "Save" button to "Publish" and a "Save draft" button appears. %0a* Set $EnablePublish, this adds a new "publish" authorization level to distinguish editing from publishing.
time=1205841042
title=Sicherheit
