version=pmwiki-2.2.0-beta65 ordered=1 urlencoded=1
agent=Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1)
author=st
charset=ISO-8859-1
csum=
ctime=1154329745
host=62.2.127.180
name=PmWikiDe.WikiFarms
rev=5
targets=PmWikiDe.WikiFarmTerminology,PmWikiDe.WikiFarmsAdvanced,PmWikiDe.DocumentationIndex
text=(:title WikiFarm:)%0a(:Summary: Begriffserklärung und Installation von Wiki-Farmen:)%0a(:Original_Page: PmWiki.{$Name}:)%0a(:Translation_Date: 2005-01-01:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience: Administratoren (Fortgeschrittene):)%0a%0aEine WikiFarm sind zwei oder mehr Wikis, die auf einem Webserver installiert sind und einige Komponenten gemeinsam nutzen. Der Begriff ist abgeleitet von 'Server Farm'.%0a%0aDiese Seite gibt Aufschluss über die Hintergründe rund um WikiFarms und beschreibt, wie man eine 'normale' PmWiki-Konfiguration in eine WikiFarm überführt, indem man weitere PmWikis hinzufügt. Es gibt mehrere Wege eine WikiFarm zu konfigurieren; diese Seite beschreibt lediglich einen Weg, um für Administratoren, die zum ersten Mal eine Farm installieren, es so einfach wie möglich zu halten.%0a%0a!!Wozu braucht man eine Farm%0aDie primäre Motivation für eine WikiFarm ist es, den administrativen Aufwand zu reduzieren, den man hat, wenn man mehrere Wikis parallel betreibt. In einer Farm werden die meisten Programmdateien von allen Wikis der Farm gemeinsam genutzt, aber an einer einzigen Stelle gespeichert. Der Administrator ist somit in der Lage z.B. ein Update des PmWiki durchzuführen, indem er lediglich einmal die zentral gespeicherten Programmdateien erneuert.%0a%0aFür den Nutzer der verschiedenen Wikis ist jedes Wiki der Farm absolut unabhängig von den anderen und erscheint als eine seperate Webseite. Jedes Wiki in einer Farm:%0a* hat seine eigene URL und die URL kann einer anderen Domain zugeordnet sein%0a* kann sein eigenes Layout haben, indem es unterschiedliche Skins benutzt%0a* kann seine eignen Add-ons und Anpassungen haben, siehe [[(Cookbook:)Cookbook(Basics)]]%0a* kann seine eigenen administrativen Regelungen für die jeweilige Konfiguration haben%0a%0a!!Wann sollte man keine Farm benutzen%0aWeil die Wikis einer Farm unabhängig voneinander sind, ist es schwierig (aber nicht unmöglich) Funktionalitäten anzubieten, die den Zugriff zu den Inhalten von mehreren Wikis benötigen. Z.B. kann die PmWiki-Suchfunktion nur innerhalb eines Wikis suchen. Benutzt man eine Farm um ein Überthema in Teile zu untergliedern, ist dies grundsätzlich eine schlechte Idee. Um eine Unterteilung zu erreichen sollte man eher [[(PmWiki:)WikiGroups]] benutzen.%0a%0a!!Ich kann mich nicht entscheiden, ob ich eine Farm nutzen soll%0aDie gute Nachricht ist: man braucht sich nicht vorab zu entscheiden. In der Praxis wird empfohlen erst eine normale [[(PmWiki:)installation|Installation]] eines PmWiki durchzuführen und diese eine gewisse Zeit zu benutzen. Man legt Seiten an und bearbeitet sie. Man lernt Rezepte aus dem Kochbuch (Cookbook) hinzu zu fügen. Man sollte unbedingt auch die Funktionen von [[(PmWiki:)WikiGroups]] installieren und testen, denn u.U. sind diese bereits ausreichend.%0a%0aWenn man dann feststellt, dass man ein weiteres Wiki benötigt, hat man zwei Möglichkeiten:%0a#Man führt eine komplette [[(PmWiki:)installation|Neuinstallation]] eines PmWiki in einem neuen Verzeichnis durch. Das ergibt zwei völlig unabhängige Wikis, die absolut eigenständig sind. Dies ist '''keine''' Wiki-Farm.%0a#Man erstellt eine Wiki-Farm, indem man das existierende Wiki als 'Home-Wiki' nutzt und die meisten Programmdateien gemeinsam nutzt.%0a%0aDie Alternative 1 sollte in folgenden Fällen gewählt werden:%0a* da es sich bei dieser Konfiguration um keine Wiki-Farm handelt, braucht man auch kein zusätzliches KnowHow um die zweite Seite zu administrieren.%0a* Wenn man vor hat, eines der Wikis auf einen anderen Server zu kopieren, kann man dies sehr einfach tun, indem man das Wiki-Verzeichnis auf den zweiten Server kopiert. Dort wird es (richtige PHP-Version vorausgesetzt) problemlos funktionieren.%0a* Man kann in jedem PmWiki eine andere Version des PmWiki benutzen, z.B. um diese zu testen.%0a* Installationsfehler wirken sich nicht auf die jeweils andere Instanz aus.%0a%0aWenn man sich für Alternative 2, eine Wiki-Farm, entscheidet, geht man wie folgt vor .....%0a%0a!!Vorbereitung%0aBevor man eine Farm erstellt, ist sicher zu stellen dass:%0a* man eine laufende Installation eines PmWiki hat, die das 'Home-Wiki' werden kann%0a* alle Wikis der Farm später auf dem gleichen Webserver laufen%0a* jedes Wiki eine eigene URL bekommen kann, wie z.B.:%0a** http://www.example.com/wiki1/ %0a** http://www.example.com/wiki2/%0a** http://another.example.com/wiki1/%0a** usw.%0a%0a!!Erstellen des 'Home-Wiki'%0aSie haben eine laufende PmWiki-Installation? Gut, weil diese nun das 'Home-Wiki' der Farm wird.%0a%0aIm Verzeichnis, das das existierende Wiki enthält, erstellt man eine Datei ''local/farmconfig.php''. Diese Datei wird die [[(PmWiki:local )customizations|Farm-Anpassungen]] enthalten. Z.B. kann man in ''farmconfig.php'' ein Admin-Passwort festlegen, welches dann in allen Wikis der Farm gültig ist.%0a%0aWenn die URL für das existierende 'Home-Wiki' http://www.example.com/pmwiki/ ist, dann sieht die einfachste ''farmconfig.php'' wie folgt aus:%0a%0a    [@%3c?php if (!defined('PmWiki')) exit();%0a      $FarmPubDirUrl = 'http://www.example.com/pmwiki/pub';@]%0a%0aDies lädt dann die Variable $FarmPubDirUrl mit dem Speicherort des 'Home-Wiki' und somit auch des ''/pub''-Directorys. Das ''/pub''-Verzeichnis enthält alle Skin-Definitionen und GUI-Edit-Buttons, die von den Wikis der Wiki-Farm gemeinsam genutzt werden sollen.%0a%0aSo verblüffend dies klingt, sind dies schon alle Änderungen, die benötigt werden, um das existierende 'Home-Wiki' in eine Wiki-Farm zu verwandeln.%0a%0a!!Weitere Wikis innerhalb der Farm erstellen%0a1. Erzeugen eines neuen Verzeichnisses, das das neue Wiki enthalten wird. Es muss vom Webserver erreichbar sein, so wie das des 'Home-Wiki'.%0a%0a2. Erzeugen einer Datei ''index.php'' in diesem Verzeichnis, die die folgende Anweisung enthält:%0a%0a    %3c?php include([='=]''path/to/pmwiki.php''');%0a%0aDamit benutzt das neue PmWiki die Dateien und Programme aus dem 'Home-Wiki'. Die Angabe ''[@path/to/pmwiki.php@]'' ist der Pfad, in dem die Datei ''pmwiki.php'' des 'Home-Wiki' gespeichert ist. Man kann sowohl eine absoulte Pfandangabe ([@/home/username/pmwiki/pmwiki.php@]) als auch eine relative Pfadangaben ([@../pmwiki/pmwiki.php@]) benutzen. Benutze ''keine'' URL - es darf also kein '[@http://@]' in der Pfadangabe enthalten sein. Für Windows-Web-Server ist der komplette Dateipfad zu benutzen [@C:/Apache Group/Apache2/www/mynewwiki/@].%0a%0a3. Wenn man nun das neue Wiki mit dem Webbrowser aufruft, also eine URL, die mit '[@http://@]' beginnt, wird automatisch das Wiki-Directory ''wiki.d/'' erzeugt, in dem die Wiki-Seiten gespeichert werden. Wenn eine Fehlermeldung erscheint, befolgen Sie die Angaben der Fehlermeldung. Wenn Sie die Option "slightly more secure installation" wählen, müssen Sie beide genannten Kommandos ausführen.%0a%0aIhre Wiki-Farm ist nun installiert und enthält 2 Wikis. Um weitere Wikis hinzuzufügen, müssen Sie einfach die letzten 3 Schritte wiederholen.%0a%0a!!Einstellungen%0aJede Wiki-Farm erbt die Einstellungen aus ''farmconfig.php''. Alle Einstellungen, die in der Wiki-Farm Gültigkeit haben, müssen also in ''farmconfig.php'' gespeichert sein.%0a%0aUm Einstellungen für jeweils ein Wiki vorzunehmen ist ein Verzeichnis ''local/'' zu erstellen, in dem alle lokalen [[(PmWiki:)local customization(s)|Einstellungen]] des jeweiligen Wiki gespeichert werden. Die Farm-Einstellungen werden vor den lokalen Einstellungen gelesen, so dass die lokalen Einstellungen die farmweit geltenden überschreiben.%0a%0aDie PmWiki-Variable ''$FarmD'' zeigt auf das Verzeichnis, in dem die pmwiki.php des 'Home-Wiki' gespeichert ist. Sie wird als Prefix benötigt, um auf gemeinsam genutzte Komponenten des jeweiligen Wikis zuzugreifen. Zum Beispiel:%0a*''$FarmD/scripts/'' zeigt auf das gemeinsame Verzeichnis ''scripts/'' %0a*''$FarmD/pub/'' zeigt auf das gemeinsame Verzeichnis ''pub/'' directory%0a*''$FarmD/cookbook/'' zeigt auf das gemeinsame Verzeichnis ''cookbook/'' directory%0a%0a!!Hinweis%0a* Die Terminologie, die in Wiki-Farms benutzt wird, ist nicht durchgängig. Siehe auch [[WikiFarmTerminology]]%0a* Es ist wichtig zu wissen, dass nicht alle Rezepte aus dem Kochbuch für Wiki-Farms geschrieben und getestet wurden. Beachten Sie die Informationen wie das jeweilige Rezept auf die Wiki-Farm anzuwenden ist.%0a* Es gibt viel, viel mehr Funktionalitäten, die man mit einer Wiki-Farm nutzen kann. Einige sind beschrieben in [[WikiFarmsAdvanced]], das auch Schritt-für-Schritt-Anleitungen enthält, um Wiki-Farms zu installieren.%0a%0a%25trail%25 %3c%3c|[[DocumentationIndex|Dokumentationsindex]]|>> 
time=1205332333
title=WikiFarm
