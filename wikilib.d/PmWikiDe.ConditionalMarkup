version=pmwiki-2.2.0-beta65 ordered=1 urlencoded=1
agent=Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.1.12) Gecko/20080129 Iceweasel/2.0.0.12 (Debian-2.0.0.12-0etch1)
author=Bartolin
charset=ISO-8859-1
csum=completed translation
ctime=1162909193
host=77.185.145.26
name=PmWikiDe.ConditionalMarkup
rev=15
targets=PmWiki.AuthUser,PmWikiDe.WikiTrails,Site.PageListTemplates,PmWikiDe.PageVariables,PmWikiDe.DocumentationIndex
text=(:title Bedingte Auszeichnung:)%0a(:Summary:Die if-Direktive erlaubt es, Teile einer Seite bei der Darstellung zu berücksichtigen oder auszuschließen:)%0a(:Original_Page: PmWiki.ConditionalMarkup:)%0a(:Translation_Date: 2008-03-17:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience: Autoren (Fortgeschrittene) und Administratoren:)%0a%0a%25define=indent block margin-left=2em%25%0a%0a!! Anwendung der [=(:if:)=] Direktive%0aDie [=(:if:)=] Direktive erlaubt es, Teile einer Seite bei der Darstellung zu berücksichtigen oder auszuschließen. Der grundsätzliche Aufbau der [@(:if:)@] Direktive ist%0a%0a->[@(:if Bedingung parm:) body (:ifend:)@]%0a->[@(:if Bedingung parm:) body (:else:) body (:ifend:)@]%0a->[@(:if Bedingung parm:) body (:elseif Bedingung parm:) body (:ifend:)@]%0a%0awobei "Bedingung" eine der unten genannten zu testenden Bedingungen bedeutet und "parm" %0aeinen Wert oder ein anderes Argument der Bedingung beschreibt.%0aBedingungen lassen sich nicht verschachteln.%0a%0aDie folgenden Bedingungen sind eingebaut:%0a%0a(:table class='indent' border=0 cellpadding=0 cellspacing=0 valign=top:)%0a(:cellnr:)[@(:if name PAGENAME:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)aktueller Name Seite ist "[@PAGENAME@]"%0a(:cellnr:)[@(:if group GROUPNAME:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)aktueller Name der Gruppe ist "[@GROUPNAME@]"%0a(:cellnr:)[@(:if auth LEVEL PAGENAME:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)Anwenderautorisierung - d.h. "seine Berechtigung" - entspricht einem "[@LEVEL@]" wobei der [@LEVEL@] : [@read@], [@edit@], [@upload@], [@attr@] oder [@admin@]sein kann; [@PAGENAME@] ist optional.%0a(:cellnr:)[@(:if authid:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)aktueller Anwender ist authentifiziert - d.h. hat sich durch "login" ausgewiesen - um diese Bedingung anwenden zu können, muss das Wiki [[PmWiki/AuthUser|AuthUser]] aktiviert haben oder einen anderen Mechanismus, der die [@$AuthId@] Variable setzt.%0a(:cellnr:)[@(:if enabled InvalidLogin:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)Username and Passwort nicht authentifiziert%0a(:cellnr:)[@(:if true:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)das Folgende immer interpretieren%0a(:cellnr:)[@(:if false:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)schließt das Folgende von einer Interpretation aus (wie Kommentar)%0a(:cellnr:)[@(:if attachments:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)aktuelle Seite hat Anhänge%0a(:cellnr:)[@(:if date DATE VALUE:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)[@DATE@] kann sein: year-month.  year-month-day ist optional.  %0aBedingung ist wahr, wenn [@VALUE@] innerhalb [@DATE@] (Für VALUE wird "now" oder "today" angenommen. VALUE kann auch weggelassen werden, wie in den folgenden Beispielen.)%0a(:cellnr:)[@(:if date DATE..:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)wahr, wenn das aktuelle Datum = [@DATE@] oder später (unbegrenzt)%0a(:cellnr:)[@(:if date DATE1..DATE2:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)wahr, wenn das aktuelle Datum zwischen [@DATE1@] bis [@DATE2@] (inklusive) liegt%0a%25green newwin%25[-''Datumangabe sind im [[http://w3.org/QA/Tips/iso-date|standard]] format yyyy-mm-dd or yyyymmdd''-]%0a[[%3c%3c]][-Hinweis: die ".." dürfen keine führenden oder folgenden Leerzeichen haben.-]%0a(:cellnr:)[@(:if enabled VAR:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)wahr, wenn PHP VAR gesetzt%0a(:cellnr:)[@(:if enabled AuthPw:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)wahr, wenn der Anwender irgend ein Passwort während der aktuellen Browser Sitzung eingegeben hat.%0a- Das bedeutet nicht, dass der Anwender das korrekte Passwort eingegeben hat.%0a(:cellnr:)[@(:if equal STRING1 STRING2:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)wahr, wenn [@STRING1@] = [@STRING2@]; benutze Anführungszeichen, wenn die Zeichenkette oder Zeichenkettenvariable Leerzeichen enthält, z.B.  [@"MY STRING"@]%0a(:cellnr:)[@(:if match REG_EXPRESSION:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)wahr, wenn der aktuelle Seitenname dem regulären Ausdruck entspricht%0a(:cellnr:)[@(:if exists PAGENAME:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)wahr, wenn die Seite ''pagename'' existiert%0a(:cellnr:)[@(:if action ACTION:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)wahr, wenn die Aktion ?action=ACTION (edit, print, ...) aktuell erlaubt ist. Um zu prüfen, welche Aktion aktuell angefordert wurde,  benutze [@(:if equal {$Action} ACTION:)@].%0a(:cellnr:)[@(:if ontrail WikiTrailPage ThisPage:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)wahr, wenn ThisPage in einer Liste ist, die als [[wiki trails | trail]] auf WikiTrailPage benutzt wird%0a(:tableend:)%0a%0aDie "name" und "group" Bedingungen arbeiten sogar in einer inkludierten Seite, da die "name" and "group" immer die aktuell ausgegebene Seite überprüfen, und nicht die Seite in der die Auszeichnung enthalten ist (Quelltext).%0a%0aNegierte Formen der Bedingungen funktionieren ebenfalls:%0a%0a(:table class='indent' border=0 cellpadding=0 cellspacing=0 valign=top:)%0a(:cellnr:)[@(:if !attachments:)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)diese Seite hat keine Anhänge%0a(:cellnr colspan=3:)&nbsp;%0a(:cellnr:)[@(:if ! name PAGENAME:)@]%0a(:cell rowspan=3:)%0a(:cell rowspan=3 valign=middle:)aktuelle Seite heist NICHT "[@PAGENAME@]"%0a(:cellnr:)[@(:if name -PAGENAME :)@]%0a(:cell:)%0a(:cellnr:)[@(:if name !PAGENAME :)@]%0a(:tableend:)%0a%0aJedes [@(:if:)@] beendet automatisch das vorhergehende, daher können Auszeichnungen einfach durchgeprüft werden (und sind nicht verschachtelt):%0a%0a(:table class='indent' valign=top:)%0a(:cellnr:)[@(:if enabled AuthPw:)@]%0a(:cell:)* Du hast ein Passwort eingegeben%0a(:cellnr:)[@(:if auth read:)@]%0a(:cell:)* Du darfst lesen%0a(:cellnr:)[@(:if auth read Group.Page:)@]%0a(:cell:)* Du darfst die Group.Page lesen%0a(:cellnr:)[@(:if auth edit:)@]%0a(:cell:)* Du darfst bearbeiten%0a(:cellnr:)[@(:if auth upload:)@]%0a(:cell:)* Du darfst Dateien hochladen%0a(:cellnr:)[@(:ifend:)@]%0a(:tableend:)%0a%0a!!! Nutzung von Platzhaltern (Wildcard)(:if false:)%25green%25[-(new for pmwiki 2.1.beta21)-]:(:ifend:)%0a%0aDas Zeichen [@*@] kann als Platzhalter (Wildcard) genutzt werden, um jedes beliebige Zeichen, keinmal, einmal or mehrfach zu repräsentieren.\\%0aDas Zeichen [@?@] kann als Platzhalter (Wildcard) genutzt werden, um ein beliebiges Zeichen exakt einmal zu repräsentieren.\\%0aDie Platzhalter Zeichen ([@*@] und [@?@]) können auch mit den ''name'' und ''group'' Bedingungen benutzt werden:%0a%0a(:table class='indent' border=0 cellpadding=0 cellspacing=0 valign=top:)%0a(:cellnr:)[@(:if name PmCal.2005* :)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)aktuelle Seite gehört in die Gruppe PmCal und beginnt mit 2005%0a(:cellnr:)[@(:if group PmWiki* :)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)aktuelle Seite gehört in die Gruppe PmWiki oder in eine Gruppe, die mit PmWiki beginnt%0a(:cellnr:)[@(:if name Profiles.*,-Profiles.Profiles :)@]%0a(:cell:)&nbsp;-&nbsp;%0a(:cell:)aktuelle Seite gehört in die Gruppe [@Profiles@] aber nicht in [@Profiles.Profiles@]%0a(:tableend:)%0a%0a%0a!!! Anwendung mit [[Site/page list templates | PageList-Vorlagen]]%0aBedingte Auszeichnung wird extensiv mit [[Site/page list templates | PageList-Vorlagen]] genutzt.%0a%0aAnwendung mit Seiten Variablen:%0a-> =   aktuelles Element%0a-> %3c   voriges Element%0a-> >   nächstes Element%0a%0aBedingungen zur Strukturierung von pagelist Ausgaben:%0a   [@(:if equal {%3c$Group}:)@]               Am Anfang der Liste%0a   [@(:if equal {>$Group}:)@]               Am Ende der Liste%0a   [@(:if ! equal {=$Group} {%3c$Group}:)@]   Erstes Element der Gruppe%0a   [@(:if ! equal {=$Group} {>$Group}:)@]   Letztes Element der Gruppe%0a!!! Kombinieren von Bedingungen%0aBedingungen (wie vorher definiert) können zu komplexeren bedingten Ausdrücken kombiniert werden, in dem eine der drei folgenden Formen benutzt werden:%0a%0a->[@%0a(:if expr EXPRESSION :)%0a(:if [ EXPRESSION ] :)%0a(:if ( EXPRESSION ) :)@]%0a%0aBedingungen werden mit Booleschen Operatoren und Klammern zu Ausdrücken verbunden. In der folgenden Tabelle sind A und B entweder reguläre Bedingungen oder geklammerte sub-Ausdrücke regulärer bedingungen:%0a%0a>>indent%3c%3c%0a|| border=1 cellpadding=2 cellspacing=0%0a||! Expression ||! Operator ||! Result ||%0a|| [@A and B@] || And ||WAHR, wenn sowohl A als auch B WAHR sind.||%0a|| [@A or B@] || Or ||WAHR, wenn entweder A oder B WAHR ist.||%0a|| [@A xor B@] || Xor ||WAHR, wenn entweder A oder B WAHR ist, aber nicht beide.||%0a|| [@! A@] || Not ||WAHR, wenn A nicht WAHR ist.||%0a|| [@A && B@] || And ||WAHR, wenn sowohl A als auch B WAHR sind.||%0a|| [@A || B@] || Or ||WAHR, wenn entweder A oder B WAHR ist.||%0a>>%3c%3c%0a%0aBeispiel%0a->[@%0a(:if [ name SomePage and group SomeGroup ]:)    entspricht (:if name SomeGroup.SomePage:)@]%0a%0aHinweis:%0a* Leerzeichen um Operatoren und Klammern sind erforderlich.%0a* Bei unpaariger Klammersetzung gibt es keine spezifischen Fehlerhinweise.%0a* Bei verschachtelten Ausdrücken werden runde Klammer (keine eckigen) benutzt.%0a%0aDas Folgende ist insofern ein möglicher Weg, eine Bedingung zu formulieren, durch die der folgende Inhalt nur angezeigt wird, wenn der Nutzer entweder Administrator ist oder wenn er eingeloggt ist und das angegebene Datum abgelaufen ist.%0a%0a->[@(:if [ auth admin || ( authid && date 2006-06-01 ) ] :)@]%0a%0aDas Verschachteln mit Hilfe eckiger Klammern funktioniert wie erwartet nicht:%0a%0a->[@(:if [ auth admin || [ authid && date 2006-06-01 ] ] :) @]&nbsp;&nbsp;&nbsp;%25red%25Hinweis: Dies funktioniert nicht!%0a%0aEine häufiger Anwendungsfall für komlexeren Tests sind Ausdrücke wie%0a%0a->[@(:if expr auth admin || auth attr || auth edit :)@]%0a->[@[[Logout -> {$Name}?action=logout]]@]%0a->[@(:ifend:)@]%0a%0awodurch ein Logout-Link genau dann angezeigt wird, wenn admin-, attr- oder edit-Rechte vorhanden sind.%0a%0a%25audience%25 Administratoren (Fortgeschrittene)%0a!! Neue Bedingungen kreiern%0a%0aSiehe das Kochbuch-Rezept [[Cookbook:ConditionalMarkupSamples]] (nur auf Englisch verfügbar).%0a%0aSiehe auch [[PageVariables | Seitenvariablen]] für die Benutzung von [={*$Variablen}=].%0a%0a%25trail%25 %3c%3c|[[DocumentationIndex | +]]|>> %0a
time=1205780688
title=Bedingte Auszeichnung
